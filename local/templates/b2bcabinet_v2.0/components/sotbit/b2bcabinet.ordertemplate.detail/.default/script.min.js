function removeTemplate(){BX.showWait(),BX.ajax.runComponentAction("sotbit:b2bcabinet.ordertemplate.detail","deleteTemplate",{mode:"class",data:{templateId:template_id}}).then((function(e){BX.closeWait(),document.querySelector('#modal_popup-order-remove [data-bs-dismiss="modal"]').click();document.querySelector("#btn_modal_order-remove-success").click()}))}function goToList(){document.location.replace(list_url)}function showFormRemoveSave(){document.querySelector('[data-target="#modal_popup-order-remove"]').click()}function showFormRemove(){const e=document.querySelector(".popup-order-remove"),t=e.querySelector("#ordertemplates-remove-block").querySelector(".ordertemplates__remove .form-description");t.textContent=t.textContent.replace("#TEMPLATE_NAME#",template_name),document.querySelector(".ordertemplates__remove").style.display="block",e.style.display="flex"}function closeModal(){const e=document.querySelector(".popup-order-remove"),t=document.querySelector(".popup-order-add-basket"),o=document.querySelector(".popup-order-remove-success");e.style.display="none",t.style.display="none",o.style.display="none"}function saveTemplate(){BX.showWait();const e=document.querySelector('.ordertemplates-add-form input[name="TEMPLATE_NAME"]');BX.ajax.runComponentAction("sotbit:b2bcabinet.ordertemplates.detail","saveTemplate",{mode:"class",data:{templateId:template_id,templateName:e.value}}).then((function(e){BX.closeWait(),document.location.href=path_to_detail.replace("#ID#",template_id)}))}function editTemplate(){document.location.href=window.location+"&edit=Y"}function addToBasket(){BX.showWait(),BX.ajax.runComponentAction("sotbit:b2bcabinet.ordertemplate.detail","addToBasket",{mode:"class",data:{templateId:template_id}}).then((function(e){document.location.href=path_to_basket,BX.closeWait()}))}function showFormAddBasket(){const e=document.querySelector(".popup-order-add-basket"),t=e.querySelector("#ordertemplates-addbasket-block").querySelector(".form-description");t.textContent=t.textContent.replace("#TEMPLATE_NAME#",template_name),e.style.display="flex"}function excelOut(e=null){BX.showWait();var t="";if($.ajax({type:"POST",async:!1,url:site_path+"include/ajax/blank_excel_export.php",data:{table_header:tableHeader,filterProps:filterProps,priceCodes:priceCodes,file:t,quantity:quantity},success:function(e){if(void 0!==e&&""!==e)try{e=JSON.parse(e)}catch(e){}void 0!==e.TYPE||void 0!==e&&""!==e&&(t=e)},complete:function(){BX.closeWait()}}),void 0!==t&&""!==t){if(null===e){var o=new Date,a=o.getDate();a<10&&(a="0"+a);var n=o.getMonth()+1;n<10&&(n="0"+n);var r=o.getHours();r<10&&(r="0"+r);var l=o.getMinutes();l<10&&(l="0"+l);var c=o.getSeconds();c<10&&(c="0"+c);var d=1e9*Math.random()-.5;d=Math.round(d);e="blank_"+o.getFullYear()+"_"+n+"_"+a+"_"+r+"_"+l+"_"+c+"_"+d+".xlsx"}var i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",e);var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(s)}}function resetEdit(){document.location.href=list_url}function saveTemplate(){document.querySelector("#ordertemplate-save").submit()}function toggleCompanyList(){document.querySelector("#company-list + .select2").classList.contains("select2-container--open")?$("[name^='COMPANY']").select2("close"):$("[name^='COMPANY']").select2("open")}