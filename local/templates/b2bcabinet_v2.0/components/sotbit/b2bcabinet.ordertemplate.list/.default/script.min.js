function closeModal(){const e=document.querySelector(".popup-order-list");e.style.display="none",e.querySelector(".error-block").innerHTML="";document.querySelector(".popup-order-add-basket").style.display="none";document.querySelector(".popup-order-remove").style.display="none";document.querySelector(".popup-order-remove-success").style.display="none"}function showFormAddBasket(e,t){document.querySelector("#btn_modal_order-add-basket").click();const o=document.querySelector("#modal_order-add-basket");o.setAttribute("data-id",e),o.querySelector(".form-description").textContent=add_basket_descr.replace("#TEMPLATE_NAME#",t)}function addToBasket(){BX.showWait();const e=document.querySelector("#modal_order-add-basket").getAttribute("data-id");BX.ajax.runComponentAction("sotbit:b2bcabinet.ordertemplate.detail","addToBasket",{mode:"class",data:{templateId:e}}).then((function(e){document.location.href=path_to_basket,BX.closeWait()}))}function showRemoveForm(e,t){document.querySelector("#btn_modal_order-remove").click();const o=document.querySelector("#modal_order-remove");o.setAttribute("data-id",e),o.querySelector(".form-description").textContent=remove_descr.replace("#TEMPLATE_NAME#",t),TEMPLATE_NAME=t}function removeTemplate(){BX.showWait();const e=document.querySelector("#modal_order-remove"),t=e.getAttribute("data-id");BX.ajax.runComponentAction("sotbit:b2bcabinet.ordertemplate.detail","deleteTemplate",{mode:"class",data:{templateId:t}}).then((function(t){BX.Main.gridManager.reload("TEMPLATE_LIST",""),BX.closeWait(),e.querySelector('[data-bs-dismiss="modal"]').click();const o=document.querySelector("#btn_modal_order-remove-success");document.querySelector("#modal_order-remove-success .form-description").textContent=success_descr.replace("#TEMPLATE_NAME#",TEMPLATE_NAME),o.click()}))}function exportExcelTemplate(e,t){BX.showWait();let o=new Object;o={ID:id_products[e]};var r="";if($.ajax({type:"POST",async:!1,url:site_path+"include/ajax/blank_excel_export.php",data:{table_header:tableHeader,filterProps:o,priceCodes:priceCodes,file:r,quantity:quantity[e]},success:function(e){if(void 0!==e&&""!==e)try{e=JSON.parse(e)}catch(e){}void 0!==e.TYPE||void 0!==e&&""!==e&&(r=e)},complete:function(){BX.closeWait()}}),void 0!==r&&""!==r){if(null==t){var a=new Date,n=a.getDate();n<10&&(n="0"+n);var d=a.getMonth()+1;d<10&&(d="0"+d);var c=a.getHours();c<10&&(c="0"+c);var l=a.getMinutes();l<10&&(l="0"+l);var i=a.getSeconds();i<10&&(i="0"+i);var s=1e9*Math.random()-.5;s=Math.round(s);t="blank_"+a.getFullYear()+"_"+d+"_"+n+"_"+c+"_"+l+"_"+i+"_"+s+".xlsx"}var u=document.createElement("a");u.setAttribute("href",r),u.setAttribute("download",t);var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),u.dispatchEvent(m)}}window.addEventListener("load",(function(){function e(t,o,r){if(null===t||t.id==r)return!1;for(const e of o)if(t.id===e)return!0;return e(t.parentNode,o,r)}document.querySelector(".ordertemplates-list-wrap").addEventListener("click",(function(t){e(t.target,["blank-excel-import","blank-export-in-excel"],"ordertemplates-list-wrap")}))}));