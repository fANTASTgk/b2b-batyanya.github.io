function changePersonalBlock(e){let t=$(".js_person_type .js_checkbox_person_type").index(e);$(".js_person_type .js_person_type_block").hide(),$(".js_person_type .js_person_type_block").eq(t).show()}function sendForm(e){if(BX.showWait(),!e.target.querySelector('input[name="'+companyRegisterAgreementInput+'"] + [data-bx-user-consent] input').checked)return void BX.closeWait();const t=document.querySelector(".bitrix-error");$.ajax({url:e.target.action,method:"post",dataType:"html",data:$(e.target).serialize(),success:function(a){BX.closeWait();const r=new RegExp('bitrix-error">(.*?)</div>',"s");let o=a.match(r);if(o&&o[1]){t.innerHTML=o[1],document.querySelector(".content").scroll({top:0,left:0,behavior:"smooth"});const a=e.target.querySelector("#captcha_sid"),r=e.target.querySelector(".password_recovery-captcha_wrap img"),c=e.target.querySelector(".password_recovery-captcha_input input");r&&($.getJSON(siteDir+"include/ajax/reload_captcha.php",(function(e){r.setAttribute("src","/bitrix/tools/captcha.php?captcha_sid="+e),a.value=e})),c.value="")}else{const e=new RegExp("\x3c!-- Content area --\x3e(.*?)\x3c!-- /content area --\x3e","s"),t=new RegExp("company-register__success-form","s");if(o=a.match(e),o&&o[1]&&t.test(o[1])){const e=document.querySelector(".content"),t=e.parentNode;e.remove(),t.insertAdjacentHTML("afterbegin",o[1])}else window.location.reload()}}})}function hideBlock(e){BX.remove(e.closest(".form-control-multiple-wrap"))}function reloadCaptcha(e,t){const a=e.closest(".password_recovery-captcha_wrap");if(!a)return;const r=e.querySelector("i"),o=a.querySelector("img"),c=document.getElementById("captcha_sid");o.classList.add("disabled"),r.classList.add("spinner-grow"),$.getJSON(t+"include/ajax/reload_captcha.php",(e=>{o.src="/bitrix/tools/captcha.php?captcha_sid="+e,c.value=e,o.onload=function(){o.classList.remove("disabled"),r.classList.remove("spinner-grow")}}))}$(document).ready((function(){$(".js_person_type .js_checkbox_person_type").click((function(){changePersonalBlock(this)})),changePersonalBlock($(".js_person_type .js_checkbox_person_type:checked"))})),BX.ready((function(){var e=document.querySelectorAll(".multiple-props .btn");if(e)for(var t in e)BX.bind(e[t],"click",BX.delegate((function(e){if(BX.type.isDomNode(e.target)){var t=BX.create("input",{attrs:{className:"form-control",type:e.target.getAttribute("data-add-type"),name:e.target.getAttribute("data-add-name"),placeholder:e.target.getAttribute("data-add-placeholder"),minlength:e.target.getAttribute("data-add-minlength"),maxlength:e.target.getAttribute("data-add-maxlength")}}),a=BX.create("div",{attrs:{className:"form-control-multiple position-absolute end-0 top-50 translate-middle-y me-1",onclick:"hideBlock(this)"},children:[BX.create("button",{attrs:{className:"form-control-multiple-ic btn btn-sm btn-icon btn-link text-muted",type:"button"},children:[BX.create("i",{attrs:{className:"ph-x fs-base"}})]})]}),r=BX.create("div",{attrs:{className:"form-control-multiple-wrap"},children:[t,a]});e.target.parentNode.insertBefore(r,e.target)}})))}));